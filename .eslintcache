[{"/home/leoy/LY/playground/react-concurrent/src/index.js":"1","/home/leoy/LY/playground/react-concurrent/src/App.js":"2","/home/leoy/LY/playground/react-concurrent/src/reportWebVitals.js":"3","/home/leoy/LY/playground/react-concurrent/src/Clock.js":"4","/home/leoy/LY/playground/react-concurrent/src/conf.js":"5","/home/leoy/LY/playground/react-concurrent/src/LegacyApp.js":"6","/home/leoy/LY/playground/react-concurrent/src/SlowList.js":"7","/home/leoy/LY/playground/react-concurrent/src/DebounceApp.js":"8"},{"size":867,"mtime":1607408947404,"results":"9","hashOfConfig":"10"},{"size":800,"mtime":1607408900760,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":1607398991421,"results":"12","hashOfConfig":"10"},{"size":2931,"mtime":1607405130448,"results":"13","hashOfConfig":"10"},{"size":23,"mtime":1607406619717,"results":"14","hashOfConfig":"10"},{"size":784,"mtime":1607406745794,"results":"15","hashOfConfig":"10"},{"size":1047,"mtime":1607407971342,"results":"16","hashOfConfig":"10"},{"size":939,"mtime":1607408893787,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"19cgrid",{"filePath":"21","messages":"22","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"20"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"20"},"/home/leoy/LY/playground/react-concurrent/src/index.js",[],["39","40"],"/home/leoy/LY/playground/react-concurrent/src/App.js",["41","42"],"import logo from './logo.svg';\nimport './App.css';\nimport { useState, unstable_useDeferredValue } from 'react';\nimport { unstable_scheduleCallback } from \"scheduler\";\nimport Clock from \"./Clock\";\nimport SlowList from './SlowList';\n\nfunction App() {\n    const [value, setValue] = useState('');\n    const onChange = e => {\n        setValue(e.target.value)\n    }\n    \n    const deferredValue = unstable_useDeferredValue(value, { timeoutMs: 500 });\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                <h1>React With Concurrent Mode</h1>\n                <input type=\"text\" onChange={onChange} value={value} />\n\n                <Clock />\n\n                <SlowList text={deferredValue}/>\n            </header>\n        </div>\n    );\n}\n\nexport default App;\n","/home/leoy/LY/playground/react-concurrent/src/reportWebVitals.js",[],"/home/leoy/LY/playground/react-concurrent/src/Clock.js",["43","44","45"],"import React from \"react\";\n\nconst {\n  unstable_ConcurrentMode: ConcurrentMode,\n  Component,\n  Suspense,\n  PureComponent,\n  createRef\n} = React;\n\nconst SPEED = 0.003 / Math.PI;\nconst FRAMES = 10;\n\nexport default class Clock extends PureComponent {\n  faceRef = createRef();\n  arcGroupRef = createRef();\n  clockHandRef = createRef();\n  frame = null;\n  hitCounter = 0;\n  rotation = 0;\n  t0 = Date.now();\n  arcs = [];\n\n  animate = () => {\n    const now = Date.now();\n    const td = now - this.t0;\n    this.rotation = (this.rotation + SPEED * td) % (2 * Math.PI);\n    this.t0 = now;\n\n    this.arcs.push({ rotation: this.rotation, td });\n\n    let lx, ly, tx, ty;\n    if (this.arcs.length > FRAMES) {\n      this.arcs.forEach(({ rotation, td }, i) => {\n        lx = tx;\n        ly = ty;\n        const r = 145;\n        tx = 155 + r * Math.cos(rotation);\n        ty = 155 + r * Math.sin(rotation);\n        const bigArc = SPEED * td < Math.PI ? \"0\" : \"1\";\n        const path = `M${tx} ${ty}A${r} ${r} 0 ${bigArc} 0 ${lx} ${ly}L155 155`;\n        const hue = 120 - Math.min(120, td / 4);\n        const colour = `hsl(${hue}, 100%, ${60 - i * (30 / FRAMES)}%)`;\n        if (i !== 0) {\n          const arcEl = this.arcGroupRef.current.children[i - 1];\n          arcEl.setAttribute(\"d\", path);\n          arcEl.setAttribute(\"fill\", colour);\n        }\n      });\n      this.clockHandRef.current.setAttribute(\"d\", `M155 155L${tx} ${ty}`);\n      this.arcs.shift();\n    }\n\n    if (this.hitCounter > 0) {\n      this.faceRef.current.setAttribute(\n        \"fill\",\n        `hsla(0, 0%, ${this.hitCounter}%, 0.95)`\n      );\n      this.hitCounter -= 1;\n    } else {\n      this.hitCounter = 0;\n      this.faceRef.current.setAttribute(\"fill\", \"hsla(0, 0%, 5%, 0.95)\");\n    }\n\n    this.frame = requestAnimationFrame(this.animate);\n  };\n\n  componentDidMount() {\n    this.frame = requestAnimationFrame(this.animate);\n    if (this.faceRef.current) {\n      this.faceRef.current.addEventListener(\"click\", this.handleClick);\n    }\n  }\n\n  componentDidUpdate() {\n    console.log(\"componentDidUpdate()\", this.faceRef.current);\n  }\n\n  componentWillUnmount() {\n    this.faceRef.current.removeEventListener(\"click\", this.handleClick);\n    if (this.frame) {\n      cancelAnimationFrame(this.frame);\n    }\n  }\n\n  handleClick = e => {\n    e.stopPropagation();\n    this.hitCounter = 50;\n  };\n\n  render() {\n    const paths = new Array(FRAMES);\n    for (let i = 0; i < FRAMES; i++) {\n      paths.push(<path className=\"arcHand\" key={i} />);\n    }\n    return (\n      <div className=\"stutterer\">\n        <svg height=\"310\" width=\"310\">\n          <circle\n            className=\"clockFace\"\n            onClick={this.handleClick}\n            cx={155}\n            cy={155}\n            r={150}\n            ref={this.faceRef}\n          />\n          <g ref={this.arcGroupRef}>{paths}</g>\n          <path className=\"clockHand\" ref={this.clockHandRef} />\n        </svg>\n      </div>\n    );\n  }\n}\n","/home/leoy/LY/playground/react-concurrent/src/conf.js",[],"/home/leoy/LY/playground/react-concurrent/src/LegacyApp.js",["46","47","48"],"import logo from './logo.svg';\nimport './App.css';\nimport { useState, unstable_useDeferredValue } from 'react';\nimport { unstable_scheduleCallback } from \"scheduler\";\nimport Clock from \"./Clock\";\nimport SlowList from './SlowList';\n\nfunction App() {\n    const [value, setValue] = useState('');\n    const onChange = e => {\n        setValue(e.target.value)\n    }\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                {/* <img src={logo} className=\"App-logo\" alt=\"logo\" /> */}\n                <h1>React Without Concurrent Mode</h1>\n                <input type=\"text\" onChange={onChange} value={value} />\n                <Clock />\n\n                <SlowList text={value}/>\n            </header>\n        </div>\n    );\n}\n\nexport default App;\n","/home/leoy/LY/playground/react-concurrent/src/SlowList.js",[],"/home/leoy/LY/playground/react-concurrent/src/DebounceApp.js",["49","50","51","52"],"import logo from './logo.svg';\nimport './App.css';\nimport { useState, useCallback, unstable_useDeferredValue } from 'react';\nimport { unstable_scheduleCallback } from \"scheduler\";\nimport Clock from \"./Clock\";\nimport SlowList from './SlowList';\n// import {debounce} from 'lodash'\nimport { useDebounce } from 'react-use'\n\nfunction App() {\n    const [value, setValue] = useState('');\n    const [debounceValue, setDebounceValue] = useState('');\n\n    useDebounce(() => {\n        setDebounceValue(value)\n    }, 500, [value])\n\n    const onChange = (e) => {\n        setValue(e.target.value)\n    }\n\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                <h1>React With Debounce</h1>\n                <input type=\"text\" onChange={onChange} value={value} />\n\n                <Clock />\n\n                <SlowList text={debounceValue} />\n            </header>\n        </div>\n    );\n}\n\nexport default App;\n",{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","severity":1,"message":"58","line":1,"column":8,"nodeType":"59","messageId":"60","endLine":1,"endColumn":12},{"ruleId":"57","severity":1,"message":"61","line":4,"column":10,"nodeType":"59","messageId":"60","endLine":4,"endColumn":35},{"ruleId":"57","severity":1,"message":"62","line":4,"column":28,"nodeType":"59","messageId":"60","endLine":4,"endColumn":42},{"ruleId":"57","severity":1,"message":"63","line":5,"column":3,"nodeType":"59","messageId":"60","endLine":5,"endColumn":12},{"ruleId":"57","severity":1,"message":"64","line":6,"column":3,"nodeType":"59","messageId":"60","endLine":6,"endColumn":11},{"ruleId":"57","severity":1,"message":"58","line":1,"column":8,"nodeType":"59","messageId":"60","endLine":1,"endColumn":12},{"ruleId":"57","severity":1,"message":"65","line":3,"column":20,"nodeType":"59","messageId":"60","endLine":3,"endColumn":45},{"ruleId":"57","severity":1,"message":"61","line":4,"column":10,"nodeType":"59","messageId":"60","endLine":4,"endColumn":35},{"ruleId":"57","severity":1,"message":"58","line":1,"column":8,"nodeType":"59","messageId":"60","endLine":1,"endColumn":12},{"ruleId":"57","severity":1,"message":"66","line":3,"column":20,"nodeType":"59","messageId":"60","endLine":3,"endColumn":31},{"ruleId":"57","severity":1,"message":"65","line":3,"column":33,"nodeType":"59","messageId":"60","endLine":3,"endColumn":58},{"ruleId":"57","severity":1,"message":"61","line":4,"column":10,"nodeType":"59","messageId":"60","endLine":4,"endColumn":35},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'unstable_scheduleCallback' is defined but never used.","'ConcurrentMode' is assigned a value but never used.","'Component' is assigned a value but never used.","'Suspense' is assigned a value but never used.","'unstable_useDeferredValue' is defined but never used.","'useCallback' is defined but never used.","no-global-assign","no-unsafe-negation"]